<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ğŸ’–</title>
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #ffdde1, #ee9ca7);
      height: 100vh;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .page {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      height: 100%;
      width: 100%;
      animation: fadeIn 1s ease;
    }

    .page.active { display: flex; }

    h1, h2 {
      color: #fff;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.2);
    }

    button {
      background: #ff7eb9;
      border: none;
      padding: 12px 25px;
      border-radius: 30px;
      font-size: 18px;
      margin: 10px;
      cursor: pointer;
      color: white;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      transition: transform 0.2s ease, background 0.3s;
    }
    button:hover { transform: scale(1.1); background: #ff4fa4; }

    form input, form textarea {
      width: 80%;
      padding: 10px;
      margin: 10px 0;
      border: none;
      border-radius: 10px;
      outline: none;
      font-size: 16px;
    }

    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    /* Hearts animation when clicking Yes */
    .heart {
      position: absolute;
      font-size: 24px;
      color: #ff4fa4;
      animation: floatUp 2s ease forwards;
    }
    @keyframes floatUp {
      from {transform: translateY(0); opacity: 1;}
      to {transform: translateY(-200px); opacity: 0;}
    }

    /* Fireworks canvas */
    #fireworks {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
    /* Fireworks canvas */
    .fireworks {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: transparent;
  z-index: -1;
  overflow: hidden;
}

.spark {
  position: absolute;
  width: 4px;
  height: 4px;
  background: radial-gradient(circle, #fff, transparent);
  border-radius: 50%;
  animation: explode 1.2s ease-out forwards;
  box-shadow: 0 0 8px #fff, 0 0 16px currentColor;
}

@keyframes explode {
  from {
    transform: translate(0, 0) scale(0.2);
    opacity: 1;
  }
  to {
    transform: translate(var(--x), var(--y)) scale(1);
    opacity: 0;
  }
}
.form-group {
  margin-bottom: 15px;
}
.error {
  color: #ff4d4d;
  font-size: 14px;
  margin-top: 5px;
  display: none;
}
.success {
  color: #00cc66;
  font-size: 16px;
  margin-top: 10px;
}

  </style>
</head>
<body>

  <!-- Page 1: The Question -->
  <div class="page active" id="page1">
    <h1>NhÃ¢n ngÃ y Ä‘áº¹p trá»i mÃ¹a thu, em cÃ³ muá»‘n má»™t buá»•i háº¹n hÃ² giá»¯a tuáº§n cÃ¹ng anh khum? ğŸ’•</h1>
    <div>
      <button id="yesBtn">Yes ğŸ’–</button>
      <button id="noBtn">No ğŸ™ˆ</button>
    </div>
  </div>

<!-- Page 2: Form -->
<div class="page" id="page2">
    <h2>Yay! Äiá»n giÃºp anh form nÃ y Ä‘á»ƒ buá»•i tá»‘i trá»n váº¹n hÆ¡n nhe ğŸŒ¸</h2>
    <form id="dateForm">
        <div class="form-group">
          <label for="time">â° Thá»i gian:</label>
          <input type="text" id="time" name="time" placeholder="VD: 7h tá»‘i thá»© 7">
          <div class="error" id="timeError">em quÃªn chÆ°a nháº­p thá»i gian a Ä‘Ã³n nÃ¨</div>
        </div>
        <div class="form-group">
          <label for="food">ğŸ½ï¸ MÃ³n Äƒn:</label>
          <textarea id="food" name="food" rows="2" placeholder="Náº¿u khÃ´ng biáº¿t Äƒn gÃ¬, em cá»© ghi lÃ  gÃ¬ cÅ©ng Ä‘Æ°á»£c nhÃ©"></textarea>
          <div class="error" id="foodError">em quÃªn chÆ°a nháº­p mÃ³n Äƒn gÃ¬ nÃ¨</div>
        </div>
        <div class="form-group">
          <label for="message">ğŸ’– Note :</label>
          <textarea id="message" name="message" placeholder="u make my day háº¹ háº¹..."></textarea>
          <div class="error" id="messageError">em cÃ²n Ä‘iá»u gÃ¬ muá»‘n anh lÆ°u Ã½ khÃ´ng</div>
        </div>
        <button type="submit">Xong rÃ¹i</button>
        <div id="successMessage" class="success"></div>
      </form>
  </div>
  
  

  <!-- Page 3: Congrats -->
<div class="page" id="page3">
    <h1>ğŸ‰ Tuyá»‡t vá»i! ğŸ‰</h1>
    <h2>Canâ€™t wait to see u, and thank u much  ğŸ’–</h2>
    <div class="fireworks"></div>
  </div>
  

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  
  <script>
    (function(){
      emailjs.init("JZYFQ2RTBTdfqVjov"); // ğŸ”‘ Replace with your EmailJS public key
    })();
  
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const page1 = document.getElementById("page1");
    const page2 = document.getElementById("page2");
    const page3 = document.getElementById("page3");
  
    // Hearts animation
    function createHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.innerHTML = "ğŸ’–";
      heart.style.left = (Math.random() * window.innerWidth) + "px";
      heart.style.top = (window.innerHeight - 50) + "px";
      document.body.appendChild(heart);
      setTimeout(()=>heart.remove(), 2000);
    }
  
    yesBtn.addEventListener("click", ()=>{
      createHeart();
      page1.classList.remove("active");
      page2.classList.add("active");
    });
  
    noBtn.addEventListener("mouseover", ()=>{
      const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
      const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
      noBtn.style.position = "absolute";
      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
    });
  
    // Send email
    document.getElementById("dateForm").addEventListener("submit", function(e){
  e.preventDefault();

  let isValid = true;
  const time = document.getElementById("time");
  const food = document.getElementById("food");
  const message = document.getElementById("message");

  // Reset errors
  document.querySelectorAll(".error").forEach(el => el.style.display = "none");

  if (time.value.trim() === "") {
    document.getElementById("timeError").style.display = "block";
    isValid = false;
  }
  if (food.value.trim() === "") {
    document.getElementById("foodError").style.display = "block";
    isValid = false;
  }
  if (message.value.trim() === "") {
    document.getElementById("messageError").style.display = "block";
    isValid = false;
  }

  if (isValid) {
    emailjs.sendForm("service_m7fhcft","template_02s0nvz",this)
      .then(()=>{
        page2.classList.remove("active");
        page3.classList.add("active");
        startFireworks();
      }, (err)=>{
        alert("Error: " + JSON.stringify(err));
      });
  }
});

/* Fireworks effect */
function createFirework() {
  const fireworks = document.querySelector('.fireworks');
  const colors = ['#ff004f', '#ffdd00', '#00ffea', '#ff00ff', '#00ff62'];
  const x = Math.random() * window.innerWidth;
  const y = Math.random() * window.innerHeight / 2;

  for (let i = 0; i < 40; i++) {
    const spark = document.createElement('div');
    spark.className = 'spark';
    spark.style.left = x + 'px';
    spark.style.top = y + 'px';
    spark.style.background = colors[Math.floor(Math.random() * colors.length)];
    spark.style.setProperty('--x', (Math.random() - 0.5) * 300 + 'px');
    spark.style.setProperty('--y', (Math.random() - 0.5) * 300 + 'px');
    fireworks.appendChild(spark);
    setTimeout(() => spark.remove(), 1500);
  }
}

setInterval(createFirework, 1200);
  
  </script>
  
</body>
</html>
